import{a as I}from"./chunk-6DQX4V2T.js";import{a as l,b as v,c as h,d as R,e,f as L,g as S,h as $,i as c,j as A}from"./chunk-SWXOK75I.js";var x=[{path:"/blog",page:"./blog/index.js"},{path:"/blog/:title",page:"./blog/[title].js"},{path:"/",page:"./index.js"},{path:"/sign",page:"./sign.js"}];var{Link:b}=$,q="bg-gray-200 text-gray-900 dark:(bg-gray-900 text-white) px-3 py-2 rounded-md text-sm font-medium",y="text-gray-900 hover:bg-gray-300 hover:text-gray-900 dark:(text-gray-300 hover:bg-gray-700 hover:text-white) px-3 py-2 rounded-md text-sm font-medium",C="bg-gray-300 text-gray-900 dark:(bg-gray-700 text-white) px-3 py-2 rounded-md text-sm font-medium",w=class extends L{constructor(t){super(t);this.text_switch=".";t.isServer||(this.text_switch=window.__btn_switch)}didMount(){addEventListener("page:end",()=>{this.update(location.pathname)})}onSwitch(){let t=document.documentElement.classList;t&&t.value==="dark"?(document.documentElement.classList.remove("dark"),localStorage.removeItem("theme"),this.text_switch="Light"):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),this.text_switch="Dark"),this.update(location.pathname)}render(t){let s=t||this.props.route.pathname;return s==="/sign"?e("div",null):e("nav",{class:c`bg-white lg:border-b dark:(bg-gray-800 lg:border-gray-900) sticky top-0 z-10`},e("div",{class:c`max-w-7xl mx-auto px-2 sm:px-6 lg:px-8`},e("div",{class:c`relative flex items-center justify-between h-16`},e("div",{class:c`flex-1 flex items-center justify-center sm:items-stretch sm:justify-start`},e("div",{class:c`sm:block sm:ml-6`},e("div",{class:c`flex space-x-4`},e(b,{to:"/",class:c`${s==="/"?q:y}`},"Home"),e(b,{to:"/blog",class:c`${s.startsWith("/blog")?q:y}`},"Blog"),e(b,{to:"/sign",class:c`${y}`},"Sign Form")))),e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},e("a",{class:c`${y}`,href:"https://github.com/herudi/maze",target:"_blank"},"Github"),e("button",{style:"width: 80px",onClick:this.onSwitch.bind(this),class:c`${C}`},this.text_switch)))))}};function E(n){let t=document.getElementById("loading");t.style.display=n?"block":"none"}function f({Page:n,props:t}){return e("div",null,e(S,null,e("html",{lang:"en"}),e("meta",{charset:"utf-8"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e("link",{rel:"icon",href:"data:,"}),e("script",{src:"/assets/theme.js"}),e("link",{href:"/assets/loading.css",rel:"stylesheet"})),e("div",{id:"loading",class:"center-div-loading",style:"display: none;"},e("div",{class:"linear-progress-material"},e("div",{class:"bar bar1"}),e("div",{class:"bar bar2"}))),e(w,l({},t)),e("div",{id:"__MY_PAGE__"},e(n,l({},t))))}var _;f.event={onStart(n){n.isFirst||(_=setTimeout(()=>{E(!0)},300))},onEnd({isFirst:n}){_&&clearTimeout(_),E(!1),n||(dispatchEvent(new Event("page:end")),window.scrollTo(0,0))},onError(n){E(!1),console.error(n)}};function k({Page:n,initData:t,route:s,isServer:o}){return e(f,{Page:n,props:v(l({},t),{route:s,isServer:o})})}k.initProps=f.initProps;k.event=f.event||{};var m=k;var D={darkMode:"class"};var H={target:"__MY_PAGE__",onHydrate:()=>{A(D)}};function F(n,t,s){let o=s.groups||{};if(!t)return o;if(n.indexOf("*")!==-1){s.shift();let d=s.filter(a=>a!==void 0).filter(a=>a.startsWith("/")).join("").split("/");d.shift();let r=v(l({},o),{wild:d.filter(a=>a!=="")});if(n==="*"||n.indexOf("/*")!==-1)return r;let i=n.split("/").find(a=>a.startsWith(":")&&a.endsWith("*"));return i&&(i=i.slice(1,-1),r[i]=[r[i]].concat(r.wild).filter(a=>a!==""),delete r.wild),r}return o}function T(n){try{return decodeURI(n)}catch(t){return n}}var j=class{constructor(){this.routes=[]}add(t,s){let o=!1,d=t.replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/(\/?)\*/g,(i,a)=>(o=!0,`(${a}.*)?`)).replace(/\.(?=[\w(])/,"\\."),r=new RegExp(`^${d}/*$`);return this.routes.push({path:t,fn:s,regex:r,wild:o}),this}find(t){let s,o={},d=0,r,i=this.routes,a=i.length;for(t=T(t);d<a;){if(r=i[d],r.regex.test(t)){let p=r.regex.exec(t);s=r.fn,o=F(r.path,r.wild,p);break}d++}return{fn:s,params:o}}handle(){let{pathname:t,search:s,origin:o}=window.location;if(this.current===t+s)return;let{fn:d,params:r}=this.find(t);this.current=t+s;let i={};if(i.pathname=t,i.url=this.current,i.path=t,i.isServer=!1,i.getBaseUrl=()=>o,i.params=r,i.fetchApi=(a,p)=>h(this,null,function*(){try{let u=yield fetch(o+a,p);if(!u.ok)throw u;return{data:yield u.json(),error:void 0}}catch(u){let g=yield u.json();return g.message=T(g.message),{data:void 0,error:g}}}),i.render=(a,p)=>{R(a,p?document.getElementById(p):document.body)},!d)return i.render(e(I,{message:"Not Found",status:404}));d(i)}resolve(){let t=()=>this.handle();t(),window.addEventListener("pushstate",s=>{s.preventDefault(),t()}),window.addEventListener("replacestate",s=>{s.preventDefault(),t()}),window.addEventListener("popstate",()=>{t()})}};function M(n){return h(this,null,function*(){return(yield import(n)).default})}var{target:P,onHydrate:N}=H;window.addEventListener("load",()=>{N();let n=!0,t=document.getElementById("__INIT_DATA__");t&&(t=JSON.parse(t.textContent||"{}"));let s=new j;for(let o=0;o<x.length;o++){let d=x[o];s.add(d.path,r=>h(void 0,null,function*(){r.isFirst=n;try{let i=typeof P=="string"?P:P(r);if(!i&&!n)return window.location.href=r.url;let a={};n||(a=m.initProps?yield m.initProps(r):{}),m.event.onStart!==void 0&&(yield m.event.onStart(r));let p=typeof d.page=="string"?yield M(d.page):d.page,u=n?t||{}:p.initProps?yield p.initProps(r):{},g=()=>{r.render(e(m,{Page:p,initData:l(l({},u),a),route:{pathname:r.pathname,url:r.url,path:d.path,params:r.params},isServer:!1}))};if(n)g();else{let B=l(l({},u),a);r.render(e(p,v(l({},B),{route:{pathname:r.pathname,url:r.url,path:d.path,params:r.params},isServer:!1})),i)}m.event.onEnd!==void 0&&m.event.onEnd(r)}catch(i){m.event.onError!==void 0&&m.event.onError(i,r)}n=!1}))}s.resolve()});export{j as default};
